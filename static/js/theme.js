(function(){const key='pref-theme';const root=document.documentElement;function apply(t){root.setAttribute('data-theme',t);try{localStorage.setItem(key,t);document.cookie='theme='+t+';path=/;max-age=31536000'}catch(e){}}document.addEventListener('click',e=>{if(e.target&&e.target.id==='theme-toggle'){const cur=root.getAttribute('data-theme')||'light';apply(cur==='light'?'dark':'light');}});} )();