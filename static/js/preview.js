window.renderPdfPreview=async function(input,container){if(!container)return;container.innerHTML='';if(!input.files||!input.files.length)return;const file=input.files[0];try{const arrayBuffer=await file.arrayBuffer();const pdf=await pdfjsLib.getDocument({data:arrayBuffer}).promise;const pages=Math.min(2,pdf.numPages);for(let i=1;i<=pages;i++){const page=await pdf.getPage(i);const viewport=page.getViewport({scale:0.8});const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');canvas.height=viewport.height;canvas.width=viewport.width;container.appendChild(canvas);await page.render({canvasContext:ctx,viewport}).promise;}}catch(e){}};